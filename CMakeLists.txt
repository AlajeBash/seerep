cmake_minimum_required(VERSION 3.0.2)
project(agri_gaia_msgs)

include(FindProtobuf)
find_package(Protobuf REQUIRED)

include_directories(
	${PROTOBUF_INCLUDE_DIR}
)

PROTOBUF_GENERATE_CPP(
	PROTO_SRC PROTO_HEADER 
	
	proto_msgs/Header.proto 
	proto_msgs/PointField.proto
	proto_msgs/PointCloud2.proto
)

add_library(${PROJECT_NAME}
	${PROTO_HEADER}
	${PROTO_SRC}
)

set_target_properties(${PROJECT_NAME} PROPERTIES PUBLIC_HEADER "${PROTO_HEADER}")

set(CMAKE_INSTALL_INCLUDEDIR include)
set(CMAKE_INSTALL_LIBDIR lib)
set(CMAKE_INSTALL_BINDIR bin)

install(TARGETS ${PROJECT_NAME} 
	ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}/${PROJECT_NAME}
	LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}/${PROJECT_NAME}
	RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}/${PROJECT_NAME}
	PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/${PROJECT_NAME}
)

#install(FILES ${PROTO_HEADER} DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/${PROJECT_NAME})

